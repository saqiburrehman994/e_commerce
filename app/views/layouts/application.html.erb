<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <title><%= content_for(:title) || "E-Commerce" %></title>
    <%= csrf_meta_tags %>
    <%= csp_meta_tag %>
    <%= yield :head %>

    <link rel="manifest" href="/manifest.json" />
    <link rel="icon" href="/icon.png" type="image/png" />
    <link rel="icon" href="/icon.svg" type="image/svg+xml" />
    <link rel="apple-touch-icon" href="/icon.png" />
    <%= stylesheet_link_tag "application", "data-turbo-track": "reload" %>
    <%= javascript_importmap_tags %>
  </head>

  <body>
    <nav class='navbar navbar-expand-lg navbar-dark bg-secondary shadow-sm'>
      <div class='container'>
        <a class='navbar-brand' href="#">E-Commerce</a>
        <button class='navbar-toggler' type='button' data-bs-toggle='collapse' data-bs-target='#navbarNav'>
          <span class='navbar-toggler-icon'></span>
        </button>
        <div class='collapse navbar-collapse' id='navbarNav'>
          <ul class='navbar-nav ms-auto'>
            <li class='nav-item'>
               <%= link_to 'Home', current_user&.manager? ? manager_dashboard_path : products_path, class: 'nav-link' %>
            </li>
            <li class='nav-item'><%= link_to 'Products', products_path, class: 'nav-link' %></li>
            <% if current_user&.manager? %>
              <li class='nav-item'><a class='nav-link' href="/about">About</a></li>
            <% else %>
              <li class='nav-item'><%= link_to 'Orders', orders_path, class: 'nav-link' %></li>
            <% end %>
            <% if user_signed_in? %>
              <li class='nav-item'><%= link_to 'Logout', destroy_user_session_path, data: { turbo_method: :delete }, class: 'nav-link' %></li>
            <% else %>
              <li class='nav-item'><%= link_to 'Sign In', new_user_session_path, class: 'nav-link' %></li>
            <% end %>
          </ul>
        </div>
      </div>
    </nav>

    <div class='container mt-4'>
      <% if notice %>
        <div class='alert alert-success'> <%= notice %> </div>
      <% end %>
      <% if alert %>
        <div class='alert alert-danger'> <%= alert %> </div>
      <% end %>
      <%= yield %>
    </div>

    <footer class='bg-secondary text-white mt-5 py-4'>
      <div class='container'>
        <div class='row'>
          <div class='col-md-4'>
            <h5>About Us</h5>
            <p>We bring exciting products to our customers. Stay updated with the latest deals!</p>
          </div>
          <div class='col-md-4'>
            <h5>Quick Links</h5>
            <ul class='list-unstyled'>
              <li><a href="#" class='text-white text-decoration-none'>Home</a></li>
              <li><a href="#" class='text-white text-decoration-none'>About</a></li>
              <li><a href="#" class='text-white text-decoration-none'>Features</a></li>
              <li><a href="#" class='text-white text-decoration-none'>Contact</a></li>
            </ul>
          </div>
          <div class='col-md-4'>
            <h5>Contact Us</h5>
            <ul class='list-unstyled'>
              <li><i class='bi bi-envelope-fill me-2'></i> info-commerce@yahoo.com</li>
              <li><i class='bi bi-telephone-fill me-2'></i> +1 234 567 890</li>
              <li><i class='bi bi-geo-alt-fill me-2'></i> 123 Main St, California, USA</li>
            </ul>
          </div>
        </div>
        <div class='text-center mt-3'>
          <p class='mb-0'>&copy; <%= Time.now.year %> E-Commerce Platform. All Rights Reserved.</p>
        </div>
      </div>
    </footer>
  </body>
</html>